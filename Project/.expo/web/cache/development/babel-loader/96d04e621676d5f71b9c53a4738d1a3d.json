{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _table_actions = require(\"../../reduxStore/table/actions/table_actions\");\n\nvar _reactNativePaper = require(\"react-native-paper\");\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\Desktop\\\\Parking-Manager-Mobile-Version-\\\\Project\\\\src\\\\components\\\\Table\\\\Table.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Table = function (_React$Component) {\n  (0, _inherits2.default)(Table, _React$Component);\n\n  var _super = _createSuper(Table);\n\n  function Table(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Table);\n    _this = _super.call(this, props);\n\n    _this.tableText = function () {\n      return _react.default.createElement(_reactNative.View, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 13\n        }\n      }, _this.props.text && _this.props.content.length > 0 ? _react.default.createElement(_reactNative.Text, {\n        style: styles.textStyle,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 25\n        }\n      }, _this.props.text, \" \", _this.props.content.length) : null);\n    };\n\n    _this.toogleChanged = function (el) {\n      _this.setState({\n        check: !_this.state.check\n      });\n\n      _this.sortTableByKey(el);\n    };\n\n    _this.sortTableByKey = function (key) {\n      if (key != undefined && _this.state.check != undefined) {\n        var lowerCaseKeys = key.toLowerCase();\n        var newContent = '';\n\n        var checkKey = function checkKey() {\n          switch (lowerCaseKeys) {\n            case \"symbol of access\":\n              return lowerCaseKeys = \"disabledParkingSpace\";\n\n            case \"user car number\":\n              return lowerCaseKeys = \"carNumber\";\n\n            default:\n              return lowerCaseKeys;\n          }\n        };\n\n        if (_this.state.check == false) {\n          if (checkKey() == \"funds\") {\n            newContent = _this.props.content.sort(function (a, b) {\n              return a[checkKey()] - b[checkKey()];\n            });\n          } else {\n            newContent = _this.props.content.sort(function (a, b) {\n              return a[checkKey()].localeCompare(b[checkKey()]);\n            });\n          }\n        } else if (_this.state.check == true) {\n          if (checkKey() == \"funds\") {\n            newContent = _this.props.content.sort(function (a, b) {\n              return b[checkKey()] - a[checkKey()];\n            });\n          } else {\n            newContent = _this.props.content.sort(function (a, b) {\n              return b[checkKey()].localeCompare(a[checkKey()]);\n            });\n          }\n        }\n\n        return newContent;\n      }\n\n      return content;\n    };\n\n    _this.tableHeader = function () {\n      var _this$props$headers;\n\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.header,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }\n      }, (_this$props$headers = _this.props.headers) == null ? void 0 : _this$props$headers.map(function (el, index) {\n        return _react.default.createElement(_reactNative.View, {\n          key: index,\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }\n        }, _react.default.createElement(_reactNativePaper.Button, {\n          key: el,\n          onPress: function onPress() {\n            _this.toogleChanged(el);\n          },\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 29\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: styles.textRow,\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 33\n          }\n        }, el)));\n      }));\n    };\n\n    _this.tableContent = function () {\n      var _this$useTable = _this.useTable(),\n          slice = _this$useTable.slice,\n          range = _this$useTable.range;\n\n      return slice.map(function (el) {\n        return Object.values(el);\n      }).map(function (element, index) {\n        return _react.default.createElement(_reactNative.View, {\n          style: styles.tableContent,\n          key: index,\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }\n        }, element.map(function (item, i) {\n          return _react.default.createElement(_reactNative.Text, {\n            key: i,\n            style: styles.textStyleContent,\n            onPress: function onPress() {\n              return _reactNative.ToastAndroid.show(\"\" + item, _reactNative.ToastAndroid.SHORT);\n            },\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }\n          }, item);\n        }));\n      });\n    };\n\n    _this.calculateRange = function () {\n      var range = [];\n      var num = Math.ceil(_this.props.content.length / _this.props.itemPerPage);\n\n      for (var i = 1; i <= num; i++) {\n        range.push(i);\n      }\n\n      return range;\n    };\n\n    _this.sliceData = function () {\n      return _this.props.content.slice((_this.state.page - 1) * _this.props.itemPerPage, _this.state.page * _this.props.itemPerPage);\n    };\n\n    _this.useTable = function () {\n      var range = _this.calculateRange();\n\n      var slice = _this.sliceData();\n\n      return {\n        slice: slice,\n        range: range\n      };\n    };\n\n    _this.tablePaginator = function () {\n      var _this$useTable2 = _this.useTable(),\n          slice = _this$useTable2.slice,\n          range = _this$useTable2.range;\n\n      var low = '<';\n      var big = '>';\n\n      if (slice.length < 1 && _this.state.page !== 1) {\n        _this.setState({\n          page: 1\n        });\n      }\n\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.paginator,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: styles.button,\n        key: '<',\n        onPress: function onPress() {\n          if (_this.state.page <= 0 || _this.state.page == 1) {\n            _this.setState({\n              page: 1\n            });\n          } else {\n            _this.setState({\n              page: _this.state.page - 1\n            });\n          }\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: 'white',\n          fontSize: 20\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }\n      }, low)), _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: 'white',\n          fontSize: 20\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, _this.state.page), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: styles.button,\n        key: '>',\n        onPress: function onPress() {\n          if (_this.state.page < range.length) {\n            _this.setState({\n              page: _this.state.page + 1\n            });\n          } else {\n            _this.setState({\n              page: 1\n            });\n          }\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: 'white',\n          fontSize: 20\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }\n      }, big)));\n    };\n\n    _this.state = {\n      page: 1,\n      check: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(Table, [{\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_react.default.Fragment, null, this.tableText(), this.tableHeader(), this.tableContent(), this.tablePaginator());\n    }\n  }]);\n  return Table;\n}(_react.default.Component);\n\nvar styles = _reactNative.StyleSheet.create({\n  header: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    borderRadius: 3,\n    elevation: 3,\n    backgroundColor: '#12285c',\n    borderColor: 'white',\n    borderWidth: 0.3\n  },\n  tableContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    borderRadius: 6,\n    elevation: 3,\n    backgroundColor: '#12285c',\n    borderColor: 'white',\n    borderWidth: 0.3\n  },\n  textStyle: {\n    color: 'white',\n    fontSize: 20,\n    textAlign: 'center'\n  },\n  textStyleContent: {\n    flex: 0.3,\n    padding: 0.5,\n    textAlignVertical: 'center',\n    color: 'white',\n    fontSize: 13,\n    textAlign: 'center'\n  },\n  textRow: {\n    color: 'white',\n    marginRight: 10,\n    marginTop: 7,\n    marginBottom: 7\n  },\n  paginator: {\n    justifyContent: 'center',\n    flexDirection: 'row',\n    alignItems: 'center',\n    color: '#2c3e50',\n    fontSize: 16,\n    width: _reactNative.Dimensions.get('window').width,\n    height: 60\n  },\n  button: {\n    padding: 7\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    sorted: state.sortedTable.sorted,\n    type: state.sortedTable.type,\n    status: state.sortedTable.status\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    sortedTable: function sortedTable(sorted) {\n      return dispatch((0, _table_actions.sortedTable)(sorted));\n    },\n    setType: function setType(type) {\n      return dispatch((0, _table_actions.setType)(type));\n    }\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Table);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/Desktop/Parking-Manager-Mobile-Version-/Project/src/components/Table/Table.js"],"names":["Table","props","tableText","text","content","length","styles","textStyle","toogleChanged","el","setState","check","state","sortTableByKey","key","undefined","lowerCaseKeys","toLowerCase","newContent","checkKey","sort","a","b","localeCompare","tableHeader","header","headers","map","index","textRow","tableContent","useTable","slice","range","Object","values","element","item","i","textStyleContent","ToastAndroid","show","SHORT","calculateRange","num","Math","ceil","itemPerPage","push","sliceData","page","tablePaginator","low","big","paginator","button","color","fontSize","React","Component","StyleSheet","create","flexDirection","justifyContent","borderRadius","elevation","backgroundColor","borderColor","borderWidth","textAlign","flex","padding","textAlignVertical","marginRight","marginTop","marginBottom","alignItems","width","Dimensions","get","height","mapStateToProps","sorted","sortedTable","type","status","mapDispatchToProps","dispatch","setType"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { StyleSheet, View, Text, Dimensions, TouchableOpacity, ToastAndroid } from 'react-native'\r\nimport { connect } from 'react-redux'\r\nimport { sortedTable, setType } from '@src/reduxStore/table/actions/table_actions'\r\nimport { Button } from 'react-native-paper'\r\n\r\nclass Table extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            page: 1,\r\n            check: '',\r\n        }\r\n    }\r\n\r\n    tableText = () => {\r\n        return (\r\n            <View>\r\n                {\r\n                    (this.props.text && this.props.content.length > 0) ?\r\n                        <Text style={styles.textStyle}>{this.props.text} {this.props.content.length}</Text>\r\n                        : null\r\n                }\r\n            </View>\r\n        )\r\n    }\r\n\r\n    toogleChanged = (el) => {\r\n        this.setState({ check: !this.state.check })\r\n        this.sortTableByKey(el)\r\n    }\r\n\r\n    sortTableByKey = (key) => {\r\n        if (key != undefined && this.state.check != undefined) {\r\n            let lowerCaseKeys = key.toLowerCase()\r\n            let newContent = ''\r\n    \r\n            const checkKey = () => {\r\n                switch (lowerCaseKeys) {\r\n                    case \"symbol of access\":\r\n                        return lowerCaseKeys = \"disabledParkingSpace\"\r\n                    case \"user car number\":\r\n                        return lowerCaseKeys = \"carNumber\"\r\n                    default:\r\n                        return lowerCaseKeys\r\n                }\r\n            }\r\n    \r\n    \r\n            if (this.state.check == false) {\r\n                if (checkKey() == \"funds\") {\r\n                    newContent = this.props.content.sort((a, b) => {\r\n                        return a[checkKey()] - b[checkKey()]\r\n                    })\r\n                } else {\r\n                    newContent = this.props.content.sort((a, b) => {\r\n                        return a[checkKey()].localeCompare(b[checkKey()])\r\n                    })\r\n                }\r\n            } else if (this.state.check == true) {\r\n                if (checkKey() == \"funds\") {\r\n                    newContent = this.props.content.sort((a, b) => {\r\n                        return b[checkKey()] - a[checkKey()]\r\n                    })\r\n    \r\n                } else {\r\n                    newContent = this.props.content.sort((a, b) => {\r\n                        return b[checkKey()].localeCompare(a[checkKey()])\r\n                    })\r\n                }\r\n    \r\n            }\r\n            return newContent\r\n        }\r\n    \r\n        return content\r\n    }\r\n\r\n    tableHeader = () => {\r\n        return (\r\n            <View style={styles.header}>\r\n                {this.props.headers?.map((el, index) => {\r\n                    return (\r\n                        <View key={index}>\r\n                            <Button key={el} onPress={() => { this.toogleChanged(el)}}>\r\n                                <Text style={styles.textRow}>{el}</Text>\r\n                            </Button>\r\n\r\n                        </View>\r\n                    )\r\n                })}\r\n            </View>\r\n        )\r\n    }\r\n\r\n    tableContent = () => {\r\n        const { slice, range } = this.useTable()\r\n\r\n        return slice.map((el) => Object.values(el)).map((element, index) => {\r\n            return (\r\n                <View style={styles.tableContent} key={index}>\r\n                    {element.map((item, i) => {\r\n                        return (\r\n                            <Text key={i} style={styles.textStyleContent} onPress={() => ToastAndroid.show(`${item}`, ToastAndroid.SHORT)}>{item}</Text>\r\n                        )\r\n                    })}\r\n                </View>\r\n            )\r\n        })\r\n    }\r\n\r\n\r\n    calculateRange = () => {\r\n        const range = []\r\n        const num = Math.ceil(this.props.content.length / this.props.itemPerPage)\r\n    \r\n        for (let i = 1; i <= num; i++) {\r\n            range.push(i)\r\n        }\r\n    \r\n        return range\r\n    }\r\n    \r\n    sliceData = () => {\r\n        return this.props.content.slice((this.state.page - 1) * this.props.itemPerPage, this.state.page * this.props.itemPerPage)  \r\n    }\r\n\r\n    useTable = () => {\r\n        const range = this.calculateRange()\r\n        const slice = this.sliceData()\r\n\r\n        return { slice, range}\r\n    }\r\n\r\n    tablePaginator = () => {\r\n        const { slice, range } = this.useTable()\r\n        const low = '<'\r\n        const big = '>'\r\n\r\n        if(slice.length < 1  && this.state.page !== 1) {\r\n            this.setState({ page: 1 })\r\n        }\r\n  \r\n        return (\r\n            <View style={styles.paginator}>\r\n                <TouchableOpacity style={styles.button} key={'<'}\r\n                    onPress={() => {\r\n                        if (this.state.page <= 0 || this.state.page == 1) {\r\n                            this.setState({ page: 1 })\r\n                        } else {\r\n                            this.setState({ page: this.state.page - 1 })\r\n                        }\r\n                    }\r\n                    }>\r\n                    <Text style={{ color: 'white', fontSize: 20 }}>{low}</Text>\r\n                </TouchableOpacity>\r\n                <Text style={{ color: 'white', fontSize: 20 }}>{this.state.page}</Text>\r\n                <TouchableOpacity style={styles.button} key={'>'}\r\n                    onPress={() => {\r\n                        if (this.state.page < range.length) {\r\n                            this.setState({ page: this.state.page + 1 })\r\n                        } else {\r\n                            this.setState({ page: 1 })\r\n                        }\r\n                    }}>\r\n                    <Text style={{ color: 'white', fontSize: 20 }}>{big}</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.tableText()}\r\n                {this.tableHeader()}\r\n                {this.tableContent()}\r\n                {this.tablePaginator()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    header: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-around',\r\n        borderRadius: 3,\r\n        elevation: 3,\r\n        backgroundColor: '#12285c',\r\n        borderColor: 'white',\r\n        borderWidth: 0.3,\r\n    },\r\n    tableContent: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-around',\r\n        borderRadius: 6,\r\n        elevation: 3,\r\n        backgroundColor: '#12285c',\r\n        borderColor: 'white',\r\n        borderWidth: 0.3\r\n    },\r\n    textStyle: {\r\n        color: 'white',\r\n        fontSize: 20,\r\n        textAlign: 'center',\r\n    },\r\n    textStyleContent: {\r\n        flex: 0.3,\r\n        padding: 0.5,\r\n        textAlignVertical: 'center',\r\n        color: 'white',\r\n        fontSize: 13,\r\n        textAlign: 'center',\r\n    },\r\n    textRow: {\r\n        color: 'white',\r\n        marginRight: 10,\r\n        marginTop: 7,\r\n        marginBottom: 7,\r\n    },\r\n    paginator: {\r\n        justifyContent: 'center',\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        color: '#2c3e50',\r\n        fontSize: 16,\r\n        width: Dimensions.get('window').width,\r\n        height: 60\r\n    },\r\n    button: {\r\n        padding: 7\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        sorted: state.sortedTable.sorted,\r\n        type: state.sortedTable.type,\r\n        status: state.sortedTable.status\r\n    }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    sortedTable: (sorted) => dispatch(sortedTable(sorted)),\r\n    setType: (type) => dispatch(setType(type))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Table)"]},"metadata":{},"sourceType":"script"}