{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativePaper = require(\"react-native-paper\");\n\nvar _ButtonImage = _interopRequireDefault(require(\"../../components/ButtonImage/ButtonImage\"));\n\nvar _LogoHolder = _interopRequireDefault(require(\"../../components/LogoHolder/LogoHolder\"));\n\nvar _BottomNavBar = _interopRequireDefault(require(\"../../components/BottomNavBar/BottomNavBar\"));\n\nvar _Information = _interopRequireDefault(require(\"../Information/Information\"));\n\nvar _Account = _interopRequireDefault(require(\"../Account/Account\"));\n\nvar _Parking = _interopRequireDefault(require(\"../Parking/Parking\"));\n\nvar _Payment = _interopRequireDefault(require(\"../Payment/Payment\"));\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _vectorIcons = require(\"@expo/vector-icons\");\n\nvar _userBalance2 = require(\"../../reduxStore/userBalance/actions/userBalance\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _reactNativeMaps = _interopRequireWildcard(require(\"react-native-maps\"));\n\nvar _setUserLocation2 = require(\"../../reduxStore/parkingLots/actions/setUserLocation\");\n\nvar _getParkings2 = require(\"../../reduxStore/getParkings/actions/getParkings\");\n\nvar Location = _interopRequireWildcard(require(\"expo-location\"));\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\Desktop\\\\Parking-Manager-Mobile-Version-\\\\Project\\\\src\\\\pages\\\\Menu\\\\MenuScreen.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar Main = function (_React$Component) {\n  (0, _inherits2.default)(Main, _React$Component);\n\n  var _super = _createSuper(Main);\n\n  function Main() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Main);\n    _this = _super.call(this);\n\n    _this.onPoiClick = function (e) {\n      var poi = e.nativeEvent;\n\n      if (poi != undefined) {\n        _this.setState({\n          poi: poi\n        });\n      }\n    };\n\n    _this.componentDidMount = function _callee() {\n      var status, location, regionName;\n      return _regenerator.default.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.intervalID = setInterval(function () {\n                return _this.setState({\n                  time: new Date().toLocaleString()\n                });\n              }, 1000);\n\n              _this.props.userBalance(_this.props.username);\n\n              _context.next = 4;\n              return _regenerator.default.awrap(Location.requestForegroundPermissionsAsync({}));\n\n            case 4:\n              status = _context.sent;\n\n              if (!(status.granted !== true)) {\n                _context.next = 9;\n                break;\n              }\n\n              _this.setState({\n                error: 'Permission to access location was denied'\n              });\n\n              _context.next = 19;\n              break;\n\n            case 9:\n              _context.next = 11;\n              return _regenerator.default.awrap(Location.getCurrentPositionAsync());\n\n            case 11:\n              location = _context.sent;\n\n              _this.props.getParkings(location.coords.latitude, location.coords.longitude);\n\n              _context.next = 15;\n              return _regenerator.default.awrap(Location.reverseGeocodeAsync({\n                longitude: location.coords.longitude,\n                latitude: location.coords.latitude\n              }));\n\n            case 15:\n              regionName = _context.sent;\n\n              _this.setState({\n                error: ''\n              });\n\n              _this.setState({\n                currLocation: {\n                  latitude: location.coords.latitude,\n                  longitude: location.coords.longitude,\n                  latitudeDelta: 0.0922,\n                  longitudeDelta: 0.0421\n                }\n              });\n\n              _this.setState({\n                regionName: regionName[0].city\n              });\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.componentWillUnmount = function () {\n      clearInterval(_this.intervalID);\n    };\n\n    _this.renderMainContainer = function (active) {\n      switch (active) {\n        case 1:\n          return _react.default.createElement(_Parking.default, {\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 21\n            }\n          });\n\n        case 2:\n          return _react.default.createElement(_Information.default, {\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }\n          });\n\n        case 3:\n          return _react.default.createElement(_Payment.default, {\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 21\n            }\n          });\n\n        case 4:\n          return _react.default.createElement(_Account.default, {\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }\n          });\n\n        default:\n          return _react.default.createElement(_reactNative.View, {\n            style: styles.mainContainer,\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 21\n            }\n          }, _this.renderHomeScreen(), _this.renderMap());\n      }\n    };\n\n    _this.renderMap = function () {\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNativeMaps.default, {\n        style: {\n          width: _reactNative.Dimensions.get('screen').width,\n          height: 400\n        },\n        provider: _reactNativeMaps.default.PROVIDER_GOOGLE,\n        showsUserLocation: true,\n        loadingEnabled: true,\n        initialRegion: _this.state.currLocation,\n        onPoiClick: _this.onPoiClick,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }\n      }, _this.state.poi && _react.default.createElement(_reactNativeMaps.Marker, {\n        coordinate: _this.state.poi.coordinate,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_reactNativeMaps.Callout, {\n        tooltip: true,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 29\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: styles.bubble,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 37\n        }\n      }, \"Name: \", _this.state.poi.name)), _react.default.createElement(_reactNative.View, {\n        style: styles.arrowBorder,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 33\n        }\n      }), _react.default.createElement(_reactNative.View, {\n        style: styles.arrow,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 33\n        }\n      }))), _this.props.parkings > 0 ? _this.props.markers.map(function (el) {\n        return _react.default.createElement(_reactNativeMaps.Marker, {\n          key: el.id,\n          coordinate: {\n            latitude: +el.lat,\n            longitude: +el.lng\n          },\n          title: el.parking_name,\n          description: \"Rating \" + el.rating_place,\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 37\n          }\n        }, _react.default.createElement(_vectorIcons.MaterialCommunityIcons, {\n          name: \"parking\",\n          color: 'red',\n          size: 26,\n          __self: (0, _assertThisInitialized2.default)(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 33\n          }\n        }));\n      }) : null));\n    };\n\n    _this.renderHomeScreen = function () {\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.text,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, _this.state.time), _react.default.createElement(_reactNative.Text, {\n        style: styles.text,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, \"Parking Lots available: \", _this.props.parkings), _this.state.error ? _react.default.createElement(_reactNativePaper.HelperText, {\n        type: \"error\",\n        style: styles.errorMessage,\n        visible: _this.state.error,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 37\n        }\n      }, _this.state.error) : null);\n    };\n\n    _this.logOut = function () {\n      var navigate = _this.props.navigation.navigate;\n\n      _asyncStorage.default.removeItem('token');\n\n      navigate('Login');\n    };\n\n    _this.renderMainScreen = function () {\n      return _react.default.createElement(_reactNative.View, {\n        style: styles.loginContainer,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: styles.top,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: {\n          color: \"white\",\n          marginTop: 10,\n          flex: 1,\n          textAlign: 'center'\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, \" Welcome \", _this.props.username), _react.default.createElement(_reactNative.View, {\n        style: {\n          justifyContent: 'center',\n          alignItems: 'flex-end'\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_ButtonImage.default, {\n        onPress: _this.logOut,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_vectorIcons.MaterialIcons, {\n        name: \"exit-to-app\",\n        size: 30,\n        color: \"white\",\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      })))), _react.default.createElement(_LogoHolder.default, {\n        source: require(\"../../../assets/favicon.png\"),\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }), _this.renderMainContainer(_this.state.active), _react.default.createElement(_reactNative.View, {\n        style: styles.navbarBottom,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, _react.default.createElement(_BottomNavBar.default, {\n        onPress: function onPress() {\n          _this.setState({\n            active: 0\n          });\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_vectorIcons.MaterialCommunityIcons, {\n        name: \"home\",\n        color: _this.state.active === 0 ? 'red' : 'white',\n        size: 34,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.textStyle,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }\n      }, \"Home\"))), _react.default.createElement(_BottomNavBar.default, {\n        onPress: function onPress() {\n          _this.setState({\n            active: 1\n          });\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_vectorIcons.MaterialCommunityIcons, {\n        name: \"parking\",\n        color: _this.state.active === 1 ? 'red' : 'white',\n        size: 34,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 29\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.textStyle,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 29\n        }\n      }, \"Parking\"))), _react.default.createElement(_BottomNavBar.default, {\n        onPress: function onPress() {\n          _this.setState({\n            active: 2\n          });\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_vectorIcons.Ionicons, {\n        name: \"ios-information-circle\",\n        color: _this.state.active === 2 ? 'red' : 'white',\n        size: 34,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 29\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.textStyle,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 29\n        }\n      }, \"Info\"))), _react.default.createElement(_BottomNavBar.default, {\n        onPress: function onPress() {\n          _this.setState({\n            active: 3\n          });\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_vectorIcons.MaterialIcons, {\n        name: \"payment\",\n        color: _this.state.active === 3 ? 'red' : 'white',\n        size: 34,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 29\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.textStyle,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 29\n        }\n      }, \"Payment\"))), _react.default.createElement(_BottomNavBar.default, {\n        onPress: function onPress() {\n          _this.setState({\n            active: 4\n          });\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 25\n        }\n      }, _react.default.createElement(_vectorIcons.MaterialCommunityIcons, {\n        name: \"account\",\n        color: _this.state.active === 4 ? 'red' : 'white',\n        size: 34,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 29\n        }\n      }), _react.default.createElement(_reactNative.Text, {\n        style: styles.textStyle,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }\n      }, \"Account\")))));\n    };\n\n    _this.state = {\n      active: 0,\n      time: new Date().toLocaleString(),\n      currLocation: null,\n      setError: true,\n      error: '',\n      poi: null,\n      regionName: null\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(Main, [{\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_react.default.Fragment, null, this.renderMainScreen());\n    }\n  }]);\n  return Main;\n}(_react.default.Component);\n\nvar styles = _reactNative.StyleSheet.create({\n  textStyle: {\n    color: 'white',\n    textAlign: 'center',\n    fontSize: 10\n  },\n  top: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    width: _reactNative.Dimensions.get('window').width,\n    height: 40,\n    backgroundColor: '#12285c'\n  },\n  mainContainer: {\n    flex: 1,\n    borderColor: 'white',\n    borderWidth: 0.2,\n    width: _reactNative.Dimensions.get('screen').width,\n    height: _reactNative.Dimensions.get('screen').height,\n    paddingBottom: 300\n  },\n  loginContainer: {\n    flex: 1,\n    height: \"100%\",\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    backgroundColor: '#2A303E',\n    marginTop: 30\n  },\n  navbarBottom: {\n    width: _reactNative.Dimensions.get('window').width,\n    backgroundColor: \"#12285c\",\n    height: 60,\n    flexDirection: 'row'\n  },\n  text: {\n    color: 'white',\n    fontSize: 28,\n    textAlign: 'center'\n  },\n  bubble: {\n    width: 160,\n    flexDirection: 'row',\n    alignSelf: 'flex-start',\n    backgroundColor: '#4da2ab',\n    paddingHorizontal: 20,\n    paddingVertical: 12,\n    borderRadius: 6,\n    borderColor: '#007a87',\n    borderWidth: 0.5\n  },\n  arrow: {\n    backgroundColor: 'transparent',\n    borderWidth: 16,\n    borderColor: 'transparent',\n    borderTopColor: '#4da2ab',\n    alignSelf: 'center',\n    marginTop: -32\n  },\n  arrowBorder: {\n    backgroundColor: 'transparent',\n    borderWidth: 16,\n    borderColor: 'transparent',\n    borderTopColor: '#007a87',\n    alignSelf: 'center',\n    marginTop: -0.5\n  },\n  errorMessage: {\n    textAlign: 'center',\n    width: '100%'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    username: state.login.username,\n    parkings: state.getParkings.parkings,\n    markers: state.getParkings.markers\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    userBalance: function userBalance(username) {\n      return dispatch((0, _userBalance2.userBalance)(username));\n    },\n    setUserLocation: function setUserLocation(lat, lon) {\n      return dispatch((0, _setUserLocation2.setUserLocation)(lat, lon));\n    },\n    getParkings: function getParkings(lat, lon) {\n      return dispatch((0, _getParkings2.getParkings)(lat, lon));\n    }\n  };\n};\n\nvar _default = (0, _reactRedux.connect)(mapStateToProps, mapDispatchToProps)(Main);\n\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Admin/OneDrive/Desktop/Parking-Manager-Mobile-Version-/Project/src/pages/Menu/MenuScreen.js"],"names":["Main","onPoiClick","e","poi","nativeEvent","undefined","setState","componentDidMount","intervalID","setInterval","time","Date","toLocaleString","props","userBalance","username","Location","requestForegroundPermissionsAsync","status","granted","error","getCurrentPositionAsync","location","getParkings","coords","latitude","longitude","reverseGeocodeAsync","regionName","currLocation","latitudeDelta","longitudeDelta","city","componentWillUnmount","clearInterval","renderMainContainer","active","styles","mainContainer","renderHomeScreen","renderMap","flex","width","Dimensions","get","height","MapView","PROVIDER_GOOGLE","state","coordinate","bubble","name","arrowBorder","arrow","parkings","markers","map","el","id","lat","lng","parking_name","rating_place","text","errorMessage","logOut","navigate","navigation","AsyncStorage","removeItem","renderMainScreen","loginContainer","top","color","marginTop","textAlign","justifyContent","alignItems","require","navbarBottom","textStyle","setError","React","Component","StyleSheet","create","fontSize","flexDirection","backgroundColor","borderColor","borderWidth","paddingBottom","alignSelf","paddingHorizontal","paddingVertical","borderRadius","borderTopColor","mapStateToProps","login","mapDispatchToProps","dispatch","setUserLocation","lon"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { StyleSheet, View, Text, Dimensions } from 'react-native'\r\nimport { HelperText } from 'react-native-paper'\r\nimport ButtonHub from '@src/components/ButtonImage/ButtonImage'\r\nimport LogoHolder from '@src/components/LogoHolder/LogoHolder'\r\nimport BottomNavBar from '@src/components/BottomNavBar/BottomNavBar'\r\nimport Information from '../Information/Information'\r\nimport Account from '../Account/Account'\r\nimport Parking from '../Parking/Parking'\r\nimport Payment from '../Payment/Payment'\r\n\r\nimport AsyncStorage from \"@react-native-async-storage/async-storage\"\r\nimport { MaterialCommunityIcons, MaterialIcons, Ionicons } from '@expo/vector-icons';\r\nimport { userBalance } from '@src/reduxStore/userBalance/actions/userBalance'\r\nimport { connect } from 'react-redux'\r\nimport MapView, { Callout, Marker } from 'react-native-maps'\r\nimport { setUserLocation } from '@src/reduxStore/parkingLots/actions/setUserLocation'\r\nimport { getParkings } from '@src/reduxStore/getParkings/actions/getParkings'\r\nimport * as Location from 'expo-location'\r\n\r\n\r\nclass Main extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            active: 0,\r\n            time: new Date().toLocaleString(),\r\n            currLocation: null,\r\n            setError: true,\r\n            error: '',\r\n            poi: null,\r\n            regionName: null\r\n        }\r\n    }\r\n\r\n    onPoiClick = (e) => {\r\n        let poi = e.nativeEvent\r\n        if (poi != undefined) {\r\n            this.setState({ poi })\r\n        }\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        \r\n        this.intervalID = setInterval(() => this.setState({ time: new Date().toLocaleString() }), (1000))\r\n        this.props.userBalance(this.props.username)\r\n        let status = await Location.requestForegroundPermissionsAsync({})\r\n        if (status.granted !== true) {\r\n            this.setState({ error: 'Permission to access location was denied' })\r\n        } else {\r\n            let location = await Location.getCurrentPositionAsync()\r\n            // only when Needed it's getting all parking Lots around the user at radius 5 km\r\n            //this.props.setUserLocation(location.coords.latitude, location.coords.longitude)\r\n            this.props.getParkings(location.coords.latitude, location.coords.longitude)\r\n            let regionName = await Location.reverseGeocodeAsync({\r\n                longitude: location.coords.longitude,\r\n                latitude: location.coords.latitude\r\n            })\r\n            this.setState({ error: '' })\r\n            this.setState({\r\n                currLocation: {\r\n                    latitude: location.coords.latitude,\r\n                    longitude: location.coords.longitude,\r\n                    latitudeDelta: 0.0922,\r\n                    longitudeDelta: 0.0421\r\n                }\r\n            })\r\n            this.setState({\r\n                regionName: regionName[0].city\r\n            })\r\n        }\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        clearInterval(this.intervalID)\r\n    }\r\n\r\n    renderMainContainer = (active) => {\r\n        switch (active) {\r\n            case 1:\r\n                return (\r\n                    <Parking></Parking>\r\n                )\r\n            case 2:\r\n                return (\r\n                    <Information></Information>\r\n                )\r\n            case 3:\r\n                return (\r\n                    <Payment></Payment>\r\n                )\r\n            case 4:\r\n                return (\r\n                    <Account></Account>\r\n                )\r\n            default:\r\n                return (\r\n                    <View style={styles.mainContainer}>\r\n                        {this.renderHomeScreen()}\r\n                        {this.renderMap()}\r\n                    </View>\r\n                )\r\n        }\r\n    }\r\n\r\n    renderMap = () => {\r\n        return (\r\n            <View style={{ flex: 1 }}>\r\n                <MapView\r\n                    style={{ width: Dimensions.get('screen').width, height: 400 }}\r\n                    provider={MapView.PROVIDER_GOOGLE}\r\n                    showsUserLocation={true}\r\n                    loadingEnabled={true}\r\n                    initialRegion={this.state.currLocation}\r\n                    onPoiClick={this.onPoiClick}>\r\n                    {this.state.poi && (\r\n                        <Marker coordinate={this.state.poi.coordinate}>\r\n                            <Callout tooltip={true}>\r\n                                <View style={styles.bubble}>\r\n                                    <Text>Name: {this.state.poi.name}</Text>\r\n                                </View>\r\n                                <View style={styles.arrowBorder} />\r\n                                <View style={styles.arrow} />\r\n                            </Callout>\r\n                        </Marker>\r\n                    )}\r\n                    { this.props.parkings > 0 ?\r\n                        this.props.markers.map((el) => {\r\n                            return (<Marker key={el.id} coordinate={{ latitude: +el.lat, longitude: +el.lng }} \r\n                            title={el.parking_name}\r\n                            description={`Rating ${el.rating_place}`}\r\n                            >\r\n                                <MaterialCommunityIcons name=\"parking\"\r\n                                color={'red'}\r\n                                size={26} />\r\n                            </Marker>)\r\n                        })\r\n                        : null\r\n                    }\r\n                </MapView>\r\n            </View>\r\n        )\r\n    }\r\n    renderHomeScreen = () => {\r\n        return (\r\n            <View style={{ flex:1 }}>\r\n                <Text style={styles.text}>{this.state.time}</Text>\r\n                <Text style={styles.text}>Parking Lots available: {this.props.parkings}</Text>\r\n                {this.state.error ? <HelperText type=\"error\" style={styles.errorMessage} visible = {this.state.error}>{this.state.error}</HelperText> : null}\r\n            </View>\r\n        )\r\n    }\r\n    logOut = () => {\r\n        const { navigate } = this.props.navigation\r\n        AsyncStorage.removeItem('token')\r\n        navigate('Login')\r\n    }\r\n\r\n    renderMainScreen = () => {\r\n        return (\r\n            <View style={styles.loginContainer} >\r\n                <View style={styles.top}>\r\n                    <Text style={{ color: \"white\", marginTop: 10, flex: 1, textAlign: 'center' }}> Welcome {this.props.username}</Text>\r\n                    <View style={{ justifyContent: 'center', alignItems: 'flex-end' }}>\r\n                        <ButtonHub onPress={this.logOut}>\r\n                            <MaterialIcons name=\"exit-to-app\" size={30} color=\"white\" />\r\n                        </ButtonHub>\r\n                    </View>\r\n                </View>\r\n                <LogoHolder source={require('../../../assets/favicon.png')} />\r\n                {this.renderMainContainer(this.state.active)}\r\n\r\n                <View style={styles.navbarBottom}>\r\n\r\n                    <BottomNavBar onPress={() => { this.setState({ active: 0 }) }}>\r\n                        <View>\r\n                            <MaterialCommunityIcons name=\"home\"\r\n                                color={this.state.active === 0 ? 'red' : 'white'}\r\n                                size={34} />\r\n                            <Text style={styles.textStyle}>Home</Text>\r\n                        </View>\r\n                    </BottomNavBar>\r\n\r\n                    <BottomNavBar onPress={() => { this.setState({ active: 1 }) }}>\r\n                        <View>\r\n                            <MaterialCommunityIcons name=\"parking\"\r\n                                color={this.state.active === 1 ? 'red' : 'white'}\r\n                                size={34} />\r\n                            <Text style={styles.textStyle}>Parking</Text>\r\n                        </View>\r\n                    </BottomNavBar>\r\n\r\n                    <BottomNavBar onPress={() => { this.setState({ active: 2 }) }}>\r\n                        <View>\r\n                            <Ionicons name=\"ios-information-circle\"\r\n                                color={this.state.active === 2 ? 'red' : 'white'}\r\n                                size={34} />\r\n                            <Text style={styles.textStyle}>Info</Text>\r\n                        </View>\r\n                    </BottomNavBar>\r\n\r\n                    <BottomNavBar onPress={() => { this.setState({ active: 3 }) }}>\r\n                        <View>\r\n                            <MaterialIcons name=\"payment\"\r\n                                color={this.state.active === 3 ? 'red' : 'white'}\r\n                                size={34} />\r\n                            <Text style={styles.textStyle}>Payment</Text>\r\n                        </View>\r\n                    </BottomNavBar>\r\n\r\n                    <BottomNavBar onPress={() => { this.setState({ active: 4 }) }}>\r\n                        <View>\r\n                            <MaterialCommunityIcons name=\"account\"\r\n                                color={this.state.active === 4 ? 'red' : 'white'}\r\n                                size={34} />\r\n                            <Text style={styles.textStyle}>Account</Text>\r\n                        </View>\r\n                    </BottomNavBar>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.renderMainScreen()}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    textStyle: {\r\n        color: 'white',\r\n        textAlign: 'center',\r\n        fontSize: 10\r\n    },\r\n    top: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'center',\r\n        width: Dimensions.get('window').width,\r\n        height: 40,\r\n        backgroundColor: '#12285c',\r\n    },\r\n    mainContainer: {\r\n        flex: 1,\r\n        borderColor: 'white',\r\n        borderWidth: 0.2,\r\n        width: Dimensions.get('screen').width,\r\n        height: Dimensions.get('screen').height,\r\n        paddingBottom: 300\r\n    },\r\n    loginContainer: {\r\n        flex: 1,\r\n        height: \"100%\",\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'column',\r\n        backgroundColor: '#2A303E',\r\n        marginTop: 30\r\n    },\r\n    navbarBottom: {\r\n        width: Dimensions.get('window').width,\r\n        backgroundColor: \"#12285c\",\r\n        height: 60,\r\n        flexDirection: 'row'\r\n    },\r\n    text: {\r\n        color: 'white',\r\n        fontSize: 28,\r\n        textAlign: 'center'\r\n    },\r\n    bubble: {\r\n        width: 160,\r\n        flexDirection: 'row',\r\n        alignSelf: 'flex-start',\r\n        backgroundColor: '#4da2ab',\r\n        paddingHorizontal: 20,\r\n        paddingVertical: 12,\r\n        borderRadius: 6,\r\n        borderColor: '#007a87',\r\n        borderWidth: 0.5,\r\n    },\r\n    arrow: {\r\n        backgroundColor: 'transparent',\r\n        borderWidth: 16,\r\n        borderColor: 'transparent',\r\n        borderTopColor: '#4da2ab',\r\n        alignSelf: 'center',\r\n        marginTop: -32,\r\n    },\r\n    arrowBorder: {\r\n        backgroundColor: 'transparent',\r\n        borderWidth: 16,\r\n        borderColor: 'transparent',\r\n        borderTopColor: '#007a87',\r\n        alignSelf: 'center',\r\n        marginTop: -0.5,\r\n    },\r\n    errorMessage: {\r\n        textAlign: 'center',\r\n        width: '100%'\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        username: state.login.username,\r\n        parkings: state.getParkings.parkings,\r\n        markers: state.getParkings.markers\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    userBalance: (username) => dispatch(userBalance(username)),\r\n    setUserLocation: (lat, lon) => dispatch(setUserLocation(lat, lon)),\r\n    getParkings: (lat, lon) =>  dispatch(getParkings(lat, lon))\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main)"]},"metadata":{},"sourceType":"script"}